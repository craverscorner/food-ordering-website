{"ast":null,"code":"import _objectSpread from\"E:/food-ordering-website/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import{Box,Typography,Alert,Button,TextField,Paper,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,IconButton,Dialog,DialogTitle,DialogContent,DialogContentText,DialogActions,Stack,CircularProgress,Select,MenuItem,FormControl,InputLabel}from'@mui/material';import{supabase}from'../supabaseClient';import EditIcon from'@mui/icons-material/Edit';import DeleteIcon from'@mui/icons-material/Delete';import{useMenu}from'../context/MenuContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const emptyItem={name:'',description:'',price:'',image_url:'',category_ids:[],subcategory_ids:[]};function MenuManager(){const[items,setItems]=useState([]);const[form,setForm]=useState(emptyItem);const[editingId,setEditingId]=useState(null);const[error,setError]=useState('');const[success,setSuccess]=useState('');const[deleteId,setDeleteId]=useState(null);const[uploading,setUploading]=useState(false);const[categories,setCategories]=useState([]);const[subcategories,setSubcategories]=useState([]);const[subcategoryLinks,setSubcategoryLinks]=useState({});const[categoryLinks,setCategoryLinks]=useState({});const{categorySubcategoryLinks}=useMenu();const fetchItems=async()=>{const{data,error:fetchError}=await supabase.from('menu_items').select('*');if(fetchError)setError(fetchError.message);else setItems(data);};const fetchCategories=async()=>{const{data,error:fetchError}=await supabase.from('categories').select('*');if(!fetchError&&data){setCategories(data.filter(c=>c.type==='category'));setSubcategories(data.filter(c=>c.type==='subcategory'));}};useEffect(()=>{fetchItems();fetchCategories();},[]);useEffect(()=>{const fetchLinks=async()=>{// Fetch subcategory links\nconst{data:subcatData}=await supabase.from('menu_item_subcategories').select('*');const subLinks={};subcatData===null||subcatData===void 0?void 0:subcatData.forEach(link=>{if(!subLinks[link.menu_item_id])subLinks[link.menu_item_id]=[];subLinks[link.menu_item_id].push(link.subcategory_id);});setSubcategoryLinks(subLinks);// Fetch category links\nconst{data:catData}=await supabase.from('menu_item_categories').select('*');const catLinks={};catData===null||catData===void 0?void 0:catData.forEach(link=>{if(!catLinks[link.menu_item_id])catLinks[link.menu_item_id]=[];catLinks[link.menu_item_id].push(link.category_id);});setCategoryLinks(catLinks);};fetchLinks();},[items]);const handleChange=e=>{const{name,value}=e.target;if(name==='subcategory_ids'||name==='category_ids'){setForm(_objectSpread(_objectSpread({},form),{},{[name]:typeof value==='string'?value.split(','):value}));}else{setForm(_objectSpread(_objectSpread({},form),{},{[name]:value}));}};const handleImageUpload=async e=>{const file=e.target.files[0];if(!file)return;setUploading(true);try{const fileExt=file.name.split('.').pop();const fileName=\"\".concat(Math.random(),\".\").concat(fileExt);const{data,error:uploadError}=await supabase.storage.from('menu-images').upload(fileName,file);if(uploadError)throw uploadError;const{data:{publicUrl}}=supabase.storage.from('menu-images').getPublicUrl(data.path);setForm(_objectSpread(_objectSpread({},form),{},{image_url:publicUrl}));}catch(err){setError(err.message);}finally{setUploading(false);}};const handleSubmit=async e=>{e.preventDefault();setError('');setSuccess('');if(!form.name||!form.price||!form.category_ids.length){setError('Name, price, and at least one category are required.');return;}let menuItemId=editingId;if(editingId){const{error}=await supabase.from('menu_items').update({name:form.name,description:form.description,price:parseFloat(form.price),image_url:form.image_url}).eq('id',editingId);if(error){setError(error.message);return;}}else{const{data,error}=await supabase.from('menu_items').insert([{name:form.name,description:form.description,price:parseFloat(form.price),image_url:form.image_url}]).select();if(error){setError(error.message);return;}menuItemId=data[0].id;}// Handle categories\nif(editingId){// Remove old category links\nawait supabase.from('menu_item_categories').delete().eq('menu_item_id',editingId);}// Insert new category links\nif(form.category_ids.length>0){const categoryInserts=form.category_ids.map(catId=>({menu_item_id:menuItemId,category_id:parseInt(catId)}));const{error:catError}=await supabase.from('menu_item_categories').insert(categoryInserts);if(catError){setError(catError.message);return;}}// Handle subcategories\nif(editingId){await supabase.from('menu_item_subcategories').delete().eq('menu_item_id',editingId);}if(form.subcategory_ids&&form.subcategory_ids.length>0){const subcategoryInserts=form.subcategory_ids.map(subId=>({menu_item_id:menuItemId,subcategory_id:parseInt(subId)}));const{error:subError}=await supabase.from('menu_item_subcategories').insert(subcategoryInserts);if(subError){setError(subError.message);return;}}setSuccess(editingId?'Item updated!':'Item added!');setEditingId(null);setForm(emptyItem);fetchItems();};const handleEdit=async item=>{setEditingId(item.id);// Fetch categories and subcategories for this item\nconst{data:catLinks}=await supabase.from('menu_item_categories').select('category_id').eq('menu_item_id',item.id);const{data:subcatLinks}=await supabase.from('menu_item_subcategories').select('subcategory_id').eq('menu_item_id',item.id);setForm({name:item.name,description:item.description,price:item.price,image_url:item.image_url,category_ids:catLinks?catLinks.map(link=>link.category_id):[],subcategory_ids:subcatLinks?subcatLinks.map(link=>link.subcategory_id):[]});};const handleDelete=async()=>{if(!deleteId)return;const{error:deleteError}=await supabase.from('menu_items').delete().eq('id',deleteId);if(deleteError)setError(deleteError.message);else{setSuccess('Item deleted!');fetchItems();}setDeleteId(null);};const handleCancel=()=>{setEditingId(null);setForm(emptyItem);setError('');setSuccess('');};// Filter subcategories based on selected categories using join table\nconst availableSubcategories=subcategories.filter(sub=>categorySubcategoryLinks.some(link=>form.category_ids.includes(link.category_id)&&link.subcategory_id===sub.id));return/*#__PURE__*/_jsxs(Box,{sx:{mt:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:\"Menu Management\"}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:2},children:error}),success&&/*#__PURE__*/_jsx(Alert,{severity:\"success\",sx:{mb:2},children:success}),/*#__PURE__*/_jsx(Paper,{sx:{p:2,mb:4},children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(Stack,{direction:{xs:'column',sm:'row'},spacing:2,alignItems:\"center\",children:[/*#__PURE__*/_jsx(TextField,{name:\"name\",label:\"Item Name\",value:form.name,onChange:handleChange,required:true,size:\"small\"}),/*#__PURE__*/_jsx(TextField,{name:\"description\",label:\"Description\",value:form.description,onChange:handleChange,size:\"small\"}),/*#__PURE__*/_jsx(TextField,{name:\"price\",label:\"Price\",type:\"number\",value:form.price,onChange:handleChange,required:true,size:\"small\",inputProps:{step:\"0.01\"}}),/*#__PURE__*/_jsx(\"input\",{accept:\"image/*\",type:\"file\",id:\"image-upload\",onChange:handleImageUpload,style:{display:'none'}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"image-upload\",children:/*#__PURE__*/_jsx(Button,{variant:\"outlined\",component:\"span\",disabled:uploading,children:uploading?/*#__PURE__*/_jsx(CircularProgress,{size:24}):'Upload Image'})}),form.image_url&&/*#__PURE__*/_jsx(Box,{sx:{width:100,height:100,overflow:'hidden'},children:/*#__PURE__*/_jsx(\"img\",{src:form.image_url,alt:\"Preview\",style:{width:'100%',height:'100%',objectFit:'cover'}})}),/*#__PURE__*/_jsxs(FormControl,{size:\"small\",sx:{minWidth:120},required:true,children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Categories\"}),/*#__PURE__*/_jsx(Select,{name:\"category_ids\",multiple:true,value:form.category_ids,label:\"Categories\",onChange:handleChange,renderValue:selected=>selected.map(id=>{var _categories$find;return(_categories$find=categories.find(cat=>cat.id===id))===null||_categories$find===void 0?void 0:_categories$find.name;}).join(', '),children:categories.map(cat=>/*#__PURE__*/_jsx(MenuItem,{value:cat.id,children:cat.name},cat.id))})]}),form.category_ids.length>0&&availableSubcategories.length>0&&/*#__PURE__*/_jsxs(FormControl,{size:\"small\",sx:{minWidth:120},children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Subcategories\"}),/*#__PURE__*/_jsx(Select,{name:\"subcategory_ids\",multiple:true,value:form.subcategory_ids,label:\"Subcategories\",onChange:handleChange,renderValue:selected=>selected.map(id=>{var _availableSubcategori;return(_availableSubcategori=availableSubcategories.find(sub=>sub.id===id))===null||_availableSubcategori===void 0?void 0:_availableSubcategori.name;}).join(', '),children:availableSubcategories.map(sub=>/*#__PURE__*/_jsx(MenuItem,{value:sub.id,children:sub.name},sub.id))})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",children:editingId?'Update':'Add'}),editingId&&/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"outlined\",color:\"secondary\",onClick:handleCancel,children:\"Cancel\"})]})})}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(\"b\",{children:\"Name\"})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(\"b\",{children:\"Description\"})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(\"b\",{children:\"Price\"})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(\"b\",{children:\"Categories\"})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(\"b\",{children:\"Subcategories\"})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(\"b\",{children:\"Actions\"})})]})}),/*#__PURE__*/_jsx(TableBody,{children:items.map(item=>{var _item$price;return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:item.name}),/*#__PURE__*/_jsx(TableCell,{children:item.description}),/*#__PURE__*/_jsx(TableCell,{children:(_item$price=item.price)===null||_item$price===void 0?void 0:_item$price.toLocaleString('en-GB',{style:'currency',currency:'GBP'})}),/*#__PURE__*/_jsx(TableCell,{children:(()=>{const catLinks=categoryLinks[item.id]||[];return catLinks.map(catId=>{var _categories$find2;return(_categories$find2=categories.find(cat=>cat.id===catId))===null||_categories$find2===void 0?void 0:_categories$find2.name;}).filter(Boolean).join(', ');})()}),/*#__PURE__*/_jsx(TableCell,{children:(()=>{const subLinks=subcategoryLinks[item.id]||[];return subLinks.map(subId=>{var _subcategories$find;return(_subcategories$find=subcategories.find(sub=>sub.id===subId))===null||_subcategories$find===void 0?void 0:_subcategories$find.name;}).filter(Boolean).join(', ');})()}),/*#__PURE__*/_jsxs(TableCell,{children:[/*#__PURE__*/_jsx(IconButton,{color:\"primary\",onClick:()=>handleEdit(item),children:/*#__PURE__*/_jsx(EditIcon,{})}),/*#__PURE__*/_jsx(IconButton,{color:\"error\",onClick:()=>setDeleteId(item.id),children:/*#__PURE__*/_jsx(DeleteIcon,{})})]})]},item.id);})})]})}),/*#__PURE__*/_jsxs(Dialog,{open:!!deleteId,onClose:()=>setDeleteId(null),children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Delete Menu Item\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(DialogContentText,{children:\"Are you sure you want to delete this menu item? This action cannot be undone.\"})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setDeleteId(null),children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:handleDelete,color:\"error\",children:\"Delete\"})]})]})]});}export default MenuManager;","map":{"version":3,"names":["React","useEffect","useState","Box","Typography","Alert","Button","TextField","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","IconButton","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","Stack","CircularProgress","Select","MenuItem","FormControl","InputLabel","supabase","EditIcon","DeleteIcon","useMenu","jsx","_jsx","jsxs","_jsxs","emptyItem","name","description","price","image_url","category_ids","subcategory_ids","MenuManager","items","setItems","form","setForm","editingId","setEditingId","error","setError","success","setSuccess","deleteId","setDeleteId","uploading","setUploading","categories","setCategories","subcategories","setSubcategories","subcategoryLinks","setSubcategoryLinks","categoryLinks","setCategoryLinks","categorySubcategoryLinks","fetchItems","data","fetchError","from","select","message","fetchCategories","filter","c","type","fetchLinks","subcatData","subLinks","forEach","link","menu_item_id","push","subcategory_id","catData","catLinks","category_id","handleChange","e","value","target","_objectSpread","split","handleImageUpload","file","files","fileExt","pop","fileName","concat","Math","random","uploadError","storage","upload","publicUrl","getPublicUrl","path","err","handleSubmit","preventDefault","length","menuItemId","update","parseFloat","eq","insert","id","delete","categoryInserts","map","catId","parseInt","catError","subcategoryInserts","subId","subError","handleEdit","item","subcatLinks","handleDelete","deleteError","handleCancel","availableSubcategories","sub","some","includes","sx","mt","children","variant","gutterBottom","severity","mb","p","onSubmit","direction","xs","sm","spacing","alignItems","label","onChange","required","size","inputProps","step","accept","style","display","htmlFor","component","disabled","width","height","overflow","src","alt","objectFit","minWidth","multiple","renderValue","selected","_categories$find","find","cat","join","_availableSubcategori","color","onClick","_item$price","toLocaleString","currency","_categories$find2","Boolean","_subcategories$find","open","onClose"],"sources":["E:/food-ordering-website/client/src/pages/MenuManager.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport {\r\n  Box, Typography, Alert, Button, TextField, Paper, Table, TableBody, TableCell,\r\n  TableContainer, TableHead, TableRow, IconButton, Dialog, DialogTitle, DialogContent,\r\n  DialogContentText, DialogActions, Stack, CircularProgress, Select, MenuItem, FormControl, InputLabel\r\n} from '@mui/material';\r\nimport { supabase } from '../supabaseClient';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport { useMenu } from '../context/MenuContext';\r\n\r\nconst emptyItem = { name: '', description: '', price: '', image_url: '', category_ids: [], subcategory_ids: [] };\r\n\r\nfunction MenuManager() {\r\n  const [items, setItems] = useState([]);\r\n  const [form, setForm] = useState(emptyItem);\r\n  const [editingId, setEditingId] = useState(null);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [deleteId, setDeleteId] = useState(null);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [categories, setCategories] = useState([]);\r\n  const [subcategories, setSubcategories] = useState([]);\r\n  const [subcategoryLinks, setSubcategoryLinks] = useState({});\r\n  const [categoryLinks, setCategoryLinks] = useState({});\r\n  const { categorySubcategoryLinks } = useMenu();\r\n\r\n  const fetchItems = async () => {\r\n    const { data, error: fetchError } = await supabase.from('menu_items').select('*');\r\n    if (fetchError) setError(fetchError.message);\r\n    else setItems(data);\r\n  };\r\n\r\n  const fetchCategories = async () => {\r\n    const { data, error: fetchError } = await supabase.from('categories').select('*');\r\n    if (!fetchError && data) {\r\n      setCategories(data.filter(c => c.type === 'category'));\r\n      setSubcategories(data.filter(c => c.type === 'subcategory'));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchItems();\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const fetchLinks = async () => {\r\n      // Fetch subcategory links\r\n      const { data: subcatData } = await supabase.from('menu_item_subcategories').select('*');\r\n      const subLinks = {};\r\n      subcatData?.forEach(link => {\r\n        if (!subLinks[link.menu_item_id]) subLinks[link.menu_item_id] = [];\r\n        subLinks[link.menu_item_id].push(link.subcategory_id);\r\n      });\r\n      setSubcategoryLinks(subLinks);\r\n\r\n      // Fetch category links\r\n      const { data: catData } = await supabase.from('menu_item_categories').select('*');\r\n      const catLinks = {};\r\n      catData?.forEach(link => {\r\n        if (!catLinks[link.menu_item_id]) catLinks[link.menu_item_id] = [];\r\n        catLinks[link.menu_item_id].push(link.category_id);\r\n      });\r\n      setCategoryLinks(catLinks);\r\n    };\r\n    fetchLinks();\r\n  }, [items]);\r\n\r\n  const handleChange = e => {\r\n    const { name, value } = e.target;\r\n    if (name === 'subcategory_ids' || name === 'category_ids') {\r\n      setForm({ ...form, [name]: typeof value === 'string' ? value.split(',') : value });\r\n    } else {\r\n      setForm({ ...form, [name]: value });\r\n    }\r\n  };\r\n\r\n  const handleImageUpload = async (e) => {\r\n    const file = e.target.files[0];\r\n    if (!file) return;\r\n    setUploading(true);\r\n    try {\r\n      const fileExt = file.name.split('.').pop();\r\n      const fileName = `${Math.random()}.${fileExt}`;\r\n      const { data, error: uploadError } = await supabase.storage\r\n        .from('menu-images')\r\n        .upload(fileName, file);\r\n      if (uploadError) throw uploadError;\r\n      const { data: { publicUrl } } = supabase.storage\r\n        .from('menu-images')\r\n        .getPublicUrl(data.path);\r\n      setForm({ ...form, image_url: publicUrl });\r\n    } catch (err) {\r\n      setError(err.message);\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setSuccess('');\r\n    if (!form.name || !form.price || !form.category_ids.length) {\r\n      setError('Name, price, and at least one category are required.');\r\n      return;\r\n    }\r\n    let menuItemId = editingId;\r\n    if (editingId) {\r\n      const { error } = await supabase.from('menu_items').update({\r\n        name: form.name,\r\n        description: form.description,\r\n        price: parseFloat(form.price),\r\n        image_url: form.image_url\r\n      }).eq('id', editingId);\r\n      if (error) { setError(error.message); return; }\r\n    } else {\r\n      const { data, error } = await supabase.from('menu_items').insert([\r\n        { name: form.name, description: form.description, price: parseFloat(form.price), image_url: form.image_url }\r\n      ]).select();\r\n      if (error) { setError(error.message); return; }\r\n      menuItemId = data[0].id;\r\n    }\r\n\r\n    // Handle categories\r\n    if (editingId) {\r\n      // Remove old category links\r\n      await supabase.from('menu_item_categories').delete().eq('menu_item_id', editingId);\r\n    }\r\n    // Insert new category links\r\n    if (form.category_ids.length > 0) {\r\n      const categoryInserts = form.category_ids.map(catId => ({\r\n        menu_item_id: menuItemId,\r\n        category_id: parseInt(catId)\r\n      }));\r\n      const { error: catError } = await supabase.from('menu_item_categories').insert(categoryInserts);\r\n      if (catError) { setError(catError.message); return; }\r\n    }\r\n\r\n    // Handle subcategories\r\n    if (editingId) {\r\n      await supabase.from('menu_item_subcategories').delete().eq('menu_item_id', editingId);\r\n    }\r\n    if (form.subcategory_ids && form.subcategory_ids.length > 0) {\r\n      const subcategoryInserts = form.subcategory_ids.map(subId => ({\r\n        menu_item_id: menuItemId,\r\n        subcategory_id: parseInt(subId)\r\n      }));\r\n      const { error: subError } = await supabase.from('menu_item_subcategories').insert(subcategoryInserts);\r\n      if (subError) { setError(subError.message); return; }\r\n    }\r\n\r\n    setSuccess(editingId ? 'Item updated!' : 'Item added!');\r\n    setEditingId(null);\r\n    setForm(emptyItem);\r\n    fetchItems();\r\n  };\r\n\r\n  const handleEdit = async item => {\r\n    setEditingId(item.id);\r\n    // Fetch categories and subcategories for this item\r\n    const { data: catLinks } = await supabase.from('menu_item_categories').select('category_id').eq('menu_item_id', item.id);\r\n    const { data: subcatLinks } = await supabase.from('menu_item_subcategories').select('subcategory_id').eq('menu_item_id', item.id);\r\n    \r\n    setForm({\r\n      name: item.name,\r\n      description: item.description,\r\n      price: item.price,\r\n      image_url: item.image_url,\r\n      category_ids: catLinks ? catLinks.map(link => link.category_id) : [],\r\n      subcategory_ids: subcatLinks ? subcatLinks.map(link => link.subcategory_id) : []\r\n    });\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    if (!deleteId) return;\r\n    const { error: deleteError } = await supabase.from('menu_items').delete().eq('id', deleteId);\r\n    if (deleteError) setError(deleteError.message);\r\n    else {\r\n      setSuccess('Item deleted!');\r\n      fetchItems();\r\n    }\r\n    setDeleteId(null);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setEditingId(null);\r\n    setForm(emptyItem);\r\n    setError('');\r\n    setSuccess('');\r\n  };\r\n\r\n  // Filter subcategories based on selected categories using join table\r\n  const availableSubcategories = subcategories.filter(sub =>\r\n    categorySubcategoryLinks.some(link =>\r\n      form.category_ids.includes(link.category_id) && link.subcategory_id === sub.id\r\n    )\r\n  );\r\n\r\n  return (\r\n    <Box sx={{ mt: 4 }}>\r\n      <Typography variant=\"h5\" gutterBottom>Menu Management</Typography>\r\n      {error && <Alert severity=\"error\" sx={{ mb: 2 }}>{error}</Alert>}\r\n      {success && <Alert severity=\"success\" sx={{ mb: 2 }}>{success}</Alert>}\r\n      <Paper sx={{ p: 2, mb: 4 }}>\r\n        <form onSubmit={handleSubmit}>\r\n          <Stack direction={{ xs: 'column', sm: 'row' }} spacing={2} alignItems=\"center\">\r\n            <TextField\r\n              name=\"name\"\r\n              label=\"Item Name\"\r\n              value={form.name}\r\n              onChange={handleChange}\r\n              required\r\n              size=\"small\"\r\n            />\r\n            <TextField\r\n              name=\"description\"\r\n              label=\"Description\"\r\n              value={form.description}\r\n              onChange={handleChange}\r\n              size=\"small\"\r\n            />\r\n            <TextField\r\n              name=\"price\"\r\n              label=\"Price\"\r\n              type=\"number\"\r\n              value={form.price}\r\n              onChange={handleChange}\r\n              required\r\n              size=\"small\"\r\n              inputProps={{ step: \"0.01\" }}\r\n            />\r\n            <input\r\n              accept=\"image/*\"\r\n              type=\"file\"\r\n              id=\"image-upload\"\r\n              onChange={handleImageUpload}\r\n              style={{ display: 'none' }}\r\n            />\r\n            <label htmlFor=\"image-upload\">\r\n              <Button variant=\"outlined\" component=\"span\" disabled={uploading}>\r\n                {uploading ? <CircularProgress size={24} /> : 'Upload Image'}\r\n              </Button>\r\n            </label>\r\n            {form.image_url && (\r\n              <Box sx={{ width: 100, height: 100, overflow: 'hidden' }}>\r\n                <img src={form.image_url} alt=\"Preview\" style={{ width: '100%', height: '100%', objectFit: 'cover' }} />\r\n              </Box>\r\n            )}\r\n            <FormControl size=\"small\" sx={{ minWidth: 120 }} required>\r\n              <InputLabel>Categories</InputLabel>\r\n              <Select\r\n                name=\"category_ids\"\r\n                multiple\r\n                value={form.category_ids}\r\n                label=\"Categories\"\r\n                onChange={handleChange}\r\n                renderValue={selected => selected.map(id => categories.find(cat => cat.id === id)?.name).join(', ')}\r\n              >\r\n                {categories.map(cat => (\r\n                  <MenuItem key={cat.id} value={cat.id}>{cat.name}</MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n            {form.category_ids.length > 0 && availableSubcategories.length > 0 && (\r\n              <FormControl size=\"small\" sx={{ minWidth: 120 }}>\r\n                <InputLabel>Subcategories</InputLabel>\r\n                <Select\r\n                  name=\"subcategory_ids\"\r\n                  multiple\r\n                  value={form.subcategory_ids}\r\n                  label=\"Subcategories\"\r\n                  onChange={handleChange}\r\n                  renderValue={selected => selected.map(id => availableSubcategories.find(sub => sub.id === id)?.name).join(', ')}\r\n                >\r\n                  {availableSubcategories.map(sub => (\r\n                    <MenuItem key={sub.id} value={sub.id}>{sub.name}</MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n            )}\r\n            <Button type=\"submit\" variant=\"contained\" color=\"primary\">\r\n              {editingId ? 'Update' : 'Add'}\r\n            </Button>\r\n            {editingId && (\r\n              <Button type=\"button\" variant=\"outlined\" color=\"secondary\" onClick={handleCancel}>\r\n                Cancel\r\n              </Button>\r\n            )}\r\n          </Stack>\r\n        </form>\r\n      </Paper>\r\n      \r\n      <TableContainer component={Paper}>\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell><b>Name</b></TableCell>\r\n              <TableCell><b>Description</b></TableCell>\r\n              <TableCell><b>Price</b></TableCell>\r\n              <TableCell><b>Categories</b></TableCell>\r\n              <TableCell><b>Subcategories</b></TableCell>\r\n              <TableCell><b>Actions</b></TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {items.map(item => (\r\n              <TableRow key={item.id}>\r\n                <TableCell>{item.name}</TableCell>\r\n                <TableCell>{item.description}</TableCell>\r\n                <TableCell>\r\n                  {item.price?.toLocaleString('en-GB', { style: 'currency', currency: 'GBP' })}\r\n                </TableCell>\r\n                <TableCell>\r\n                  {\r\n                    (() => {\r\n                      const catLinks = categoryLinks[item.id] || [];\r\n                      return catLinks.map(catId => categories.find(cat => cat.id === catId)?.name).filter(Boolean).join(', ');\r\n                    })()\r\n                  }\r\n                </TableCell>\r\n                <TableCell>\r\n                  {\r\n                    (() => {\r\n                      const subLinks = subcategoryLinks[item.id] || [];\r\n                      return subLinks.map(subId => subcategories.find(sub => sub.id === subId)?.name).filter(Boolean).join(', ');\r\n                    })()\r\n                  }\r\n                </TableCell>\r\n                <TableCell>\r\n                  <IconButton color=\"primary\" onClick={() => handleEdit(item)}><EditIcon /></IconButton>\r\n                  <IconButton color=\"error\" onClick={() => setDeleteId(item.id)}><DeleteIcon /></IconButton>\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n      <Dialog open={!!deleteId} onClose={() => setDeleteId(null)}>\r\n        <DialogTitle>Delete Menu Item</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Are you sure you want to delete this menu item? This action cannot be undone.\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setDeleteId(null)}>Cancel</Button>\r\n          <Button onClick={handleDelete} color=\"error\">Delete</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default MenuManager; "],"mappings":"oHAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OACEC,GAAG,CAAEC,UAAU,CAAEC,KAAK,CAAEC,MAAM,CAAEC,SAAS,CAAEC,KAAK,CAAEC,KAAK,CAAEC,SAAS,CAAEC,SAAS,CAC7EC,cAAc,CAAEC,SAAS,CAAEC,QAAQ,CAAEC,UAAU,CAAEC,MAAM,CAAEC,WAAW,CAAEC,aAAa,CACnFC,iBAAiB,CAAEC,aAAa,CAAEC,KAAK,CAAEC,gBAAgB,CAAEC,MAAM,CAAEC,QAAQ,CAAEC,WAAW,CAAEC,UAAU,KAC/F,eAAe,CACtB,OAASC,QAAQ,KAAQ,mBAAmB,CAC5C,MAAO,CAAAC,QAAQ,KAAM,0BAA0B,CAC/C,MAAO,CAAAC,UAAU,KAAM,4BAA4B,CACnD,OAASC,OAAO,KAAQ,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjD,KAAM,CAAAC,SAAS,CAAG,CAAEC,IAAI,CAAE,EAAE,CAAEC,WAAW,CAAE,EAAE,CAAEC,KAAK,CAAE,EAAE,CAAEC,SAAS,CAAE,EAAE,CAAEC,YAAY,CAAE,EAAE,CAAEC,eAAe,CAAE,EAAG,CAAC,CAEhH,QAAS,CAAAC,WAAWA,CAAA,CAAG,CACrB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAG1C,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAC2C,IAAI,CAAEC,OAAO,CAAC,CAAG5C,QAAQ,CAACiC,SAAS,CAAC,CAC3C,KAAM,CAACY,SAAS,CAAEC,YAAY,CAAC,CAAG9C,QAAQ,CAAC,IAAI,CAAC,CAChD,KAAM,CAAC+C,KAAK,CAAEC,QAAQ,CAAC,CAAGhD,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACiD,OAAO,CAAEC,UAAU,CAAC,CAAGlD,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACmD,QAAQ,CAAEC,WAAW,CAAC,CAAGpD,QAAQ,CAAC,IAAI,CAAC,CAC9C,KAAM,CAACqD,SAAS,CAAEC,YAAY,CAAC,CAAGtD,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAACuD,UAAU,CAAEC,aAAa,CAAC,CAAGxD,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACyD,aAAa,CAAEC,gBAAgB,CAAC,CAAG1D,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAAC2D,gBAAgB,CAAEC,mBAAmB,CAAC,CAAG5D,QAAQ,CAAC,CAAC,CAAC,CAAC,CAC5D,KAAM,CAAC6D,aAAa,CAAEC,gBAAgB,CAAC,CAAG9D,QAAQ,CAAC,CAAC,CAAC,CAAC,CACtD,KAAM,CAAE+D,wBAAyB,CAAC,CAAGnC,OAAO,CAAC,CAAC,CAE9C,KAAM,CAAAoC,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,KAAM,CAAEC,IAAI,CAAElB,KAAK,CAAEmB,UAAW,CAAC,CAAG,KAAM,CAAAzC,QAAQ,CAAC0C,IAAI,CAAC,YAAY,CAAC,CAACC,MAAM,CAAC,GAAG,CAAC,CACjF,GAAIF,UAAU,CAAElB,QAAQ,CAACkB,UAAU,CAACG,OAAO,CAAC,CAAC,IACxC,CAAA3B,QAAQ,CAACuB,IAAI,CAAC,CACrB,CAAC,CAED,KAAM,CAAAK,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClC,KAAM,CAAEL,IAAI,CAAElB,KAAK,CAAEmB,UAAW,CAAC,CAAG,KAAM,CAAAzC,QAAQ,CAAC0C,IAAI,CAAC,YAAY,CAAC,CAACC,MAAM,CAAC,GAAG,CAAC,CACjF,GAAI,CAACF,UAAU,EAAID,IAAI,CAAE,CACvBT,aAAa,CAACS,IAAI,CAACM,MAAM,CAACC,CAAC,EAAIA,CAAC,CAACC,IAAI,GAAK,UAAU,CAAC,CAAC,CACtDf,gBAAgB,CAACO,IAAI,CAACM,MAAM,CAACC,CAAC,EAAIA,CAAC,CAACC,IAAI,GAAK,aAAa,CAAC,CAAC,CAC9D,CACF,CAAC,CAED1E,SAAS,CAAC,IAAM,CACdiE,UAAU,CAAC,CAAC,CACZM,eAAe,CAAC,CAAC,CACnB,CAAC,CAAE,EAAE,CAAC,CAENvE,SAAS,CAAC,IAAM,CACd,KAAM,CAAA2E,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B;AACA,KAAM,CAAET,IAAI,CAAEU,UAAW,CAAC,CAAG,KAAM,CAAAlD,QAAQ,CAAC0C,IAAI,CAAC,yBAAyB,CAAC,CAACC,MAAM,CAAC,GAAG,CAAC,CACvF,KAAM,CAAAQ,QAAQ,CAAG,CAAC,CAAC,CACnBD,UAAU,SAAVA,UAAU,iBAAVA,UAAU,CAAEE,OAAO,CAACC,IAAI,EAAI,CAC1B,GAAI,CAACF,QAAQ,CAACE,IAAI,CAACC,YAAY,CAAC,CAAEH,QAAQ,CAACE,IAAI,CAACC,YAAY,CAAC,CAAG,EAAE,CAClEH,QAAQ,CAACE,IAAI,CAACC,YAAY,CAAC,CAACC,IAAI,CAACF,IAAI,CAACG,cAAc,CAAC,CACvD,CAAC,CAAC,CACFrB,mBAAmB,CAACgB,QAAQ,CAAC,CAE7B;AACA,KAAM,CAAEX,IAAI,CAAEiB,OAAQ,CAAC,CAAG,KAAM,CAAAzD,QAAQ,CAAC0C,IAAI,CAAC,sBAAsB,CAAC,CAACC,MAAM,CAAC,GAAG,CAAC,CACjF,KAAM,CAAAe,QAAQ,CAAG,CAAC,CAAC,CACnBD,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEL,OAAO,CAACC,IAAI,EAAI,CACvB,GAAI,CAACK,QAAQ,CAACL,IAAI,CAACC,YAAY,CAAC,CAAEI,QAAQ,CAACL,IAAI,CAACC,YAAY,CAAC,CAAG,EAAE,CAClEI,QAAQ,CAACL,IAAI,CAACC,YAAY,CAAC,CAACC,IAAI,CAACF,IAAI,CAACM,WAAW,CAAC,CACpD,CAAC,CAAC,CACFtB,gBAAgB,CAACqB,QAAQ,CAAC,CAC5B,CAAC,CACDT,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,CAACjC,KAAK,CAAC,CAAC,CAEX,KAAM,CAAA4C,YAAY,CAAGC,CAAC,EAAI,CACxB,KAAM,CAAEpD,IAAI,CAAEqD,KAAM,CAAC,CAAGD,CAAC,CAACE,MAAM,CAChC,GAAItD,IAAI,GAAK,iBAAiB,EAAIA,IAAI,GAAK,cAAc,CAAE,CACzDU,OAAO,CAAA6C,aAAA,CAAAA,aAAA,IAAM9C,IAAI,MAAE,CAACT,IAAI,EAAG,MAAO,CAAAqD,KAAK,GAAK,QAAQ,CAAGA,KAAK,CAACG,KAAK,CAAC,GAAG,CAAC,CAAGH,KAAK,EAAE,CAAC,CACpF,CAAC,IAAM,CACL3C,OAAO,CAAA6C,aAAA,CAAAA,aAAA,IAAM9C,IAAI,MAAE,CAACT,IAAI,EAAGqD,KAAK,EAAE,CAAC,CACrC,CACF,CAAC,CAED,KAAM,CAAAI,iBAAiB,CAAG,KAAO,CAAAL,CAAC,EAAK,CACrC,KAAM,CAAAM,IAAI,CAAGN,CAAC,CAACE,MAAM,CAACK,KAAK,CAAC,CAAC,CAAC,CAC9B,GAAI,CAACD,IAAI,CAAE,OACXtC,YAAY,CAAC,IAAI,CAAC,CAClB,GAAI,CACF,KAAM,CAAAwC,OAAO,CAAGF,IAAI,CAAC1D,IAAI,CAACwD,KAAK,CAAC,GAAG,CAAC,CAACK,GAAG,CAAC,CAAC,CAC1C,KAAM,CAAAC,QAAQ,IAAAC,MAAA,CAAMC,IAAI,CAACC,MAAM,CAAC,CAAC,MAAAF,MAAA,CAAIH,OAAO,CAAE,CAC9C,KAAM,CAAE7B,IAAI,CAAElB,KAAK,CAAEqD,WAAY,CAAC,CAAG,KAAM,CAAA3E,QAAQ,CAAC4E,OAAO,CACxDlC,IAAI,CAAC,aAAa,CAAC,CACnBmC,MAAM,CAACN,QAAQ,CAAEJ,IAAI,CAAC,CACzB,GAAIQ,WAAW,CAAE,KAAM,CAAAA,WAAW,CAClC,KAAM,CAAEnC,IAAI,CAAE,CAAEsC,SAAU,CAAE,CAAC,CAAG9E,QAAQ,CAAC4E,OAAO,CAC7ClC,IAAI,CAAC,aAAa,CAAC,CACnBqC,YAAY,CAACvC,IAAI,CAACwC,IAAI,CAAC,CAC1B7D,OAAO,CAAA6C,aAAA,CAAAA,aAAA,IAAM9C,IAAI,MAAEN,SAAS,CAAEkE,SAAS,EAAE,CAAC,CAC5C,CAAE,MAAOG,GAAG,CAAE,CACZ1D,QAAQ,CAAC0D,GAAG,CAACrC,OAAO,CAAC,CACvB,CAAC,OAAS,CACRf,YAAY,CAAC,KAAK,CAAC,CACrB,CACF,CAAC,CAED,KAAM,CAAAqD,YAAY,CAAG,KAAM,CAAArB,CAAC,EAAI,CAC9BA,CAAC,CAACsB,cAAc,CAAC,CAAC,CAClB5D,QAAQ,CAAC,EAAE,CAAC,CACZE,UAAU,CAAC,EAAE,CAAC,CACd,GAAI,CAACP,IAAI,CAACT,IAAI,EAAI,CAACS,IAAI,CAACP,KAAK,EAAI,CAACO,IAAI,CAACL,YAAY,CAACuE,MAAM,CAAE,CAC1D7D,QAAQ,CAAC,sDAAsD,CAAC,CAChE,OACF,CACA,GAAI,CAAA8D,UAAU,CAAGjE,SAAS,CAC1B,GAAIA,SAAS,CAAE,CACb,KAAM,CAAEE,KAAM,CAAC,CAAG,KAAM,CAAAtB,QAAQ,CAAC0C,IAAI,CAAC,YAAY,CAAC,CAAC4C,MAAM,CAAC,CACzD7E,IAAI,CAAES,IAAI,CAACT,IAAI,CACfC,WAAW,CAAEQ,IAAI,CAACR,WAAW,CAC7BC,KAAK,CAAE4E,UAAU,CAACrE,IAAI,CAACP,KAAK,CAAC,CAC7BC,SAAS,CAAEM,IAAI,CAACN,SAClB,CAAC,CAAC,CAAC4E,EAAE,CAAC,IAAI,CAAEpE,SAAS,CAAC,CACtB,GAAIE,KAAK,CAAE,CAAEC,QAAQ,CAACD,KAAK,CAACsB,OAAO,CAAC,CAAE,OAAQ,CAChD,CAAC,IAAM,CACL,KAAM,CAAEJ,IAAI,CAAElB,KAAM,CAAC,CAAG,KAAM,CAAAtB,QAAQ,CAAC0C,IAAI,CAAC,YAAY,CAAC,CAAC+C,MAAM,CAAC,CAC/D,CAAEhF,IAAI,CAAES,IAAI,CAACT,IAAI,CAAEC,WAAW,CAAEQ,IAAI,CAACR,WAAW,CAAEC,KAAK,CAAE4E,UAAU,CAACrE,IAAI,CAACP,KAAK,CAAC,CAAEC,SAAS,CAAEM,IAAI,CAACN,SAAU,CAAC,CAC7G,CAAC,CAAC+B,MAAM,CAAC,CAAC,CACX,GAAIrB,KAAK,CAAE,CAAEC,QAAQ,CAACD,KAAK,CAACsB,OAAO,CAAC,CAAE,OAAQ,CAC9CyC,UAAU,CAAG7C,IAAI,CAAC,CAAC,CAAC,CAACkD,EAAE,CACzB,CAEA;AACA,GAAItE,SAAS,CAAE,CACb;AACA,KAAM,CAAApB,QAAQ,CAAC0C,IAAI,CAAC,sBAAsB,CAAC,CAACiD,MAAM,CAAC,CAAC,CAACH,EAAE,CAAC,cAAc,CAAEpE,SAAS,CAAC,CACpF,CACA;AACA,GAAIF,IAAI,CAACL,YAAY,CAACuE,MAAM,CAAG,CAAC,CAAE,CAChC,KAAM,CAAAQ,eAAe,CAAG1E,IAAI,CAACL,YAAY,CAACgF,GAAG,CAACC,KAAK,GAAK,CACtDxC,YAAY,CAAE+B,UAAU,CACxB1B,WAAW,CAAEoC,QAAQ,CAACD,KAAK,CAC7B,CAAC,CAAC,CAAC,CACH,KAAM,CAAExE,KAAK,CAAE0E,QAAS,CAAC,CAAG,KAAM,CAAAhG,QAAQ,CAAC0C,IAAI,CAAC,sBAAsB,CAAC,CAAC+C,MAAM,CAACG,eAAe,CAAC,CAC/F,GAAII,QAAQ,CAAE,CAAEzE,QAAQ,CAACyE,QAAQ,CAACpD,OAAO,CAAC,CAAE,OAAQ,CACtD,CAEA;AACA,GAAIxB,SAAS,CAAE,CACb,KAAM,CAAApB,QAAQ,CAAC0C,IAAI,CAAC,yBAAyB,CAAC,CAACiD,MAAM,CAAC,CAAC,CAACH,EAAE,CAAC,cAAc,CAAEpE,SAAS,CAAC,CACvF,CACA,GAAIF,IAAI,CAACJ,eAAe,EAAII,IAAI,CAACJ,eAAe,CAACsE,MAAM,CAAG,CAAC,CAAE,CAC3D,KAAM,CAAAa,kBAAkB,CAAG/E,IAAI,CAACJ,eAAe,CAAC+E,GAAG,CAACK,KAAK,GAAK,CAC5D5C,YAAY,CAAE+B,UAAU,CACxB7B,cAAc,CAAEuC,QAAQ,CAACG,KAAK,CAChC,CAAC,CAAC,CAAC,CACH,KAAM,CAAE5E,KAAK,CAAE6E,QAAS,CAAC,CAAG,KAAM,CAAAnG,QAAQ,CAAC0C,IAAI,CAAC,yBAAyB,CAAC,CAAC+C,MAAM,CAACQ,kBAAkB,CAAC,CACrG,GAAIE,QAAQ,CAAE,CAAE5E,QAAQ,CAAC4E,QAAQ,CAACvD,OAAO,CAAC,CAAE,OAAQ,CACtD,CAEAnB,UAAU,CAACL,SAAS,CAAG,eAAe,CAAG,aAAa,CAAC,CACvDC,YAAY,CAAC,IAAI,CAAC,CAClBF,OAAO,CAACX,SAAS,CAAC,CAClB+B,UAAU,CAAC,CAAC,CACd,CAAC,CAED,KAAM,CAAA6D,UAAU,CAAG,KAAM,CAAAC,IAAI,EAAI,CAC/BhF,YAAY,CAACgF,IAAI,CAACX,EAAE,CAAC,CACrB;AACA,KAAM,CAAElD,IAAI,CAAEkB,QAAS,CAAC,CAAG,KAAM,CAAA1D,QAAQ,CAAC0C,IAAI,CAAC,sBAAsB,CAAC,CAACC,MAAM,CAAC,aAAa,CAAC,CAAC6C,EAAE,CAAC,cAAc,CAAEa,IAAI,CAACX,EAAE,CAAC,CACxH,KAAM,CAAElD,IAAI,CAAE8D,WAAY,CAAC,CAAG,KAAM,CAAAtG,QAAQ,CAAC0C,IAAI,CAAC,yBAAyB,CAAC,CAACC,MAAM,CAAC,gBAAgB,CAAC,CAAC6C,EAAE,CAAC,cAAc,CAAEa,IAAI,CAACX,EAAE,CAAC,CAEjIvE,OAAO,CAAC,CACNV,IAAI,CAAE4F,IAAI,CAAC5F,IAAI,CACfC,WAAW,CAAE2F,IAAI,CAAC3F,WAAW,CAC7BC,KAAK,CAAE0F,IAAI,CAAC1F,KAAK,CACjBC,SAAS,CAAEyF,IAAI,CAACzF,SAAS,CACzBC,YAAY,CAAE6C,QAAQ,CAAGA,QAAQ,CAACmC,GAAG,CAACxC,IAAI,EAAIA,IAAI,CAACM,WAAW,CAAC,CAAG,EAAE,CACpE7C,eAAe,CAAEwF,WAAW,CAAGA,WAAW,CAACT,GAAG,CAACxC,IAAI,EAAIA,IAAI,CAACG,cAAc,CAAC,CAAG,EAChF,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAA+C,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CAAC7E,QAAQ,CAAE,OACf,KAAM,CAAEJ,KAAK,CAAEkF,WAAY,CAAC,CAAG,KAAM,CAAAxG,QAAQ,CAAC0C,IAAI,CAAC,YAAY,CAAC,CAACiD,MAAM,CAAC,CAAC,CAACH,EAAE,CAAC,IAAI,CAAE9D,QAAQ,CAAC,CAC5F,GAAI8E,WAAW,CAAEjF,QAAQ,CAACiF,WAAW,CAAC5D,OAAO,CAAC,CAAC,IAC1C,CACHnB,UAAU,CAAC,eAAe,CAAC,CAC3Bc,UAAU,CAAC,CAAC,CACd,CACAZ,WAAW,CAAC,IAAI,CAAC,CACnB,CAAC,CAED,KAAM,CAAA8E,YAAY,CAAGA,CAAA,GAAM,CACzBpF,YAAY,CAAC,IAAI,CAAC,CAClBF,OAAO,CAACX,SAAS,CAAC,CAClBe,QAAQ,CAAC,EAAE,CAAC,CACZE,UAAU,CAAC,EAAE,CAAC,CAChB,CAAC,CAED;AACA,KAAM,CAAAiF,sBAAsB,CAAG1E,aAAa,CAACc,MAAM,CAAC6D,GAAG,EACrDrE,wBAAwB,CAACsE,IAAI,CAACvD,IAAI,EAChCnC,IAAI,CAACL,YAAY,CAACgG,QAAQ,CAACxD,IAAI,CAACM,WAAW,CAAC,EAAIN,IAAI,CAACG,cAAc,GAAKmD,GAAG,CAACjB,EAC9E,CACF,CAAC,CAED,mBACEnF,KAAA,CAAC/B,GAAG,EAACsI,EAAE,CAAE,CAAEC,EAAE,CAAE,CAAE,CAAE,CAAAC,QAAA,eACjB3G,IAAA,CAAC5B,UAAU,EAACwI,OAAO,CAAC,IAAI,CAACC,YAAY,MAAAF,QAAA,CAAC,iBAAe,CAAY,CAAC,CACjE1F,KAAK,eAAIjB,IAAA,CAAC3B,KAAK,EAACyI,QAAQ,CAAC,OAAO,CAACL,EAAE,CAAE,CAAEM,EAAE,CAAE,CAAE,CAAE,CAAAJ,QAAA,CAAE1F,KAAK,CAAQ,CAAC,CAC/DE,OAAO,eAAInB,IAAA,CAAC3B,KAAK,EAACyI,QAAQ,CAAC,SAAS,CAACL,EAAE,CAAE,CAAEM,EAAE,CAAE,CAAE,CAAE,CAAAJ,QAAA,CAAExF,OAAO,CAAQ,CAAC,cACtEnB,IAAA,CAACxB,KAAK,EAACiI,EAAE,CAAE,CAAEO,CAAC,CAAE,CAAC,CAAED,EAAE,CAAE,CAAE,CAAE,CAAAJ,QAAA,cACzB3G,IAAA,SAAMiH,QAAQ,CAAEpC,YAAa,CAAA8B,QAAA,cAC3BzG,KAAA,CAACb,KAAK,EAAC6H,SAAS,CAAE,CAAEC,EAAE,CAAE,QAAQ,CAAEC,EAAE,CAAE,KAAM,CAAE,CAACC,OAAO,CAAE,CAAE,CAACC,UAAU,CAAC,QAAQ,CAAAX,QAAA,eAC5E3G,IAAA,CAACzB,SAAS,EACR6B,IAAI,CAAC,MAAM,CACXmH,KAAK,CAAC,WAAW,CACjB9D,KAAK,CAAE5C,IAAI,CAACT,IAAK,CACjBoH,QAAQ,CAAEjE,YAAa,CACvBkE,QAAQ,MACRC,IAAI,CAAC,OAAO,CACb,CAAC,cACF1H,IAAA,CAACzB,SAAS,EACR6B,IAAI,CAAC,aAAa,CAClBmH,KAAK,CAAC,aAAa,CACnB9D,KAAK,CAAE5C,IAAI,CAACR,WAAY,CACxBmH,QAAQ,CAAEjE,YAAa,CACvBmE,IAAI,CAAC,OAAO,CACb,CAAC,cACF1H,IAAA,CAACzB,SAAS,EACR6B,IAAI,CAAC,OAAO,CACZmH,KAAK,CAAC,OAAO,CACb5E,IAAI,CAAC,QAAQ,CACbc,KAAK,CAAE5C,IAAI,CAACP,KAAM,CAClBkH,QAAQ,CAAEjE,YAAa,CACvBkE,QAAQ,MACRC,IAAI,CAAC,OAAO,CACZC,UAAU,CAAE,CAAEC,IAAI,CAAE,MAAO,CAAE,CAC9B,CAAC,cACF5H,IAAA,UACE6H,MAAM,CAAC,SAAS,CAChBlF,IAAI,CAAC,MAAM,CACX0C,EAAE,CAAC,cAAc,CACjBmC,QAAQ,CAAE3D,iBAAkB,CAC5BiE,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAO,CAAE,CAC5B,CAAC,cACF/H,IAAA,UAAOgI,OAAO,CAAC,cAAc,CAAArB,QAAA,cAC3B3G,IAAA,CAAC1B,MAAM,EAACsI,OAAO,CAAC,UAAU,CAACqB,SAAS,CAAC,MAAM,CAACC,QAAQ,CAAE3G,SAAU,CAAAoF,QAAA,CAC7DpF,SAAS,cAAGvB,IAAA,CAACV,gBAAgB,EAACoI,IAAI,CAAE,EAAG,CAAE,CAAC,CAAG,cAAc,CACtD,CAAC,CACJ,CAAC,CACP7G,IAAI,CAACN,SAAS,eACbP,IAAA,CAAC7B,GAAG,EAACsI,EAAE,CAAE,CAAE0B,KAAK,CAAE,GAAG,CAAEC,MAAM,CAAE,GAAG,CAAEC,QAAQ,CAAE,QAAS,CAAE,CAAA1B,QAAA,cACvD3G,IAAA,QAAKsI,GAAG,CAAEzH,IAAI,CAACN,SAAU,CAACgI,GAAG,CAAC,SAAS,CAACT,KAAK,CAAE,CAAEK,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAM,CAAEI,SAAS,CAAE,OAAQ,CAAE,CAAE,CAAC,CACrG,CACN,cACDtI,KAAA,CAACT,WAAW,EAACiI,IAAI,CAAC,OAAO,CAACjB,EAAE,CAAE,CAAEgC,QAAQ,CAAE,GAAI,CAAE,CAAChB,QAAQ,MAAAd,QAAA,eACvD3G,IAAA,CAACN,UAAU,EAAAiH,QAAA,CAAC,YAAU,CAAY,CAAC,cACnC3G,IAAA,CAACT,MAAM,EACLa,IAAI,CAAC,cAAc,CACnBsI,QAAQ,MACRjF,KAAK,CAAE5C,IAAI,CAACL,YAAa,CACzB+G,KAAK,CAAC,YAAY,CAClBC,QAAQ,CAAEjE,YAAa,CACvBoF,WAAW,CAAEC,QAAQ,EAAIA,QAAQ,CAACpD,GAAG,CAACH,EAAE,OAAAwD,gBAAA,QAAAA,gBAAA,CAAIpH,UAAU,CAACqH,IAAI,CAACC,GAAG,EAAIA,GAAG,CAAC1D,EAAE,GAAKA,EAAE,CAAC,UAAAwD,gBAAA,iBAArCA,gBAAA,CAAuCzI,IAAI,GAAC,CAAC4I,IAAI,CAAC,IAAI,CAAE,CAAArC,QAAA,CAEnGlF,UAAU,CAAC+D,GAAG,CAACuD,GAAG,eACjB/I,IAAA,CAACR,QAAQ,EAAciE,KAAK,CAAEsF,GAAG,CAAC1D,EAAG,CAAAsB,QAAA,CAAEoC,GAAG,CAAC3I,IAAI,EAAhC2I,GAAG,CAAC1D,EAAuC,CAC3D,CAAC,CACI,CAAC,EACE,CAAC,CACbxE,IAAI,CAACL,YAAY,CAACuE,MAAM,CAAG,CAAC,EAAIsB,sBAAsB,CAACtB,MAAM,CAAG,CAAC,eAChE7E,KAAA,CAACT,WAAW,EAACiI,IAAI,CAAC,OAAO,CAACjB,EAAE,CAAE,CAAEgC,QAAQ,CAAE,GAAI,CAAE,CAAA9B,QAAA,eAC9C3G,IAAA,CAACN,UAAU,EAAAiH,QAAA,CAAC,eAAa,CAAY,CAAC,cACtC3G,IAAA,CAACT,MAAM,EACLa,IAAI,CAAC,iBAAiB,CACtBsI,QAAQ,MACRjF,KAAK,CAAE5C,IAAI,CAACJ,eAAgB,CAC5B8G,KAAK,CAAC,eAAe,CACrBC,QAAQ,CAAEjE,YAAa,CACvBoF,WAAW,CAAEC,QAAQ,EAAIA,QAAQ,CAACpD,GAAG,CAACH,EAAE,OAAA4D,qBAAA,QAAAA,qBAAA,CAAI5C,sBAAsB,CAACyC,IAAI,CAACxC,GAAG,EAAIA,GAAG,CAACjB,EAAE,GAAKA,EAAE,CAAC,UAAA4D,qBAAA,iBAAjDA,qBAAA,CAAmD7I,IAAI,GAAC,CAAC4I,IAAI,CAAC,IAAI,CAAE,CAAArC,QAAA,CAE/GN,sBAAsB,CAACb,GAAG,CAACc,GAAG,eAC7BtG,IAAA,CAACR,QAAQ,EAAciE,KAAK,CAAE6C,GAAG,CAACjB,EAAG,CAAAsB,QAAA,CAAEL,GAAG,CAAClG,IAAI,EAAhCkG,GAAG,CAACjB,EAAuC,CAC3D,CAAC,CACI,CAAC,EACE,CACd,cACDrF,IAAA,CAAC1B,MAAM,EAACqE,IAAI,CAAC,QAAQ,CAACiE,OAAO,CAAC,WAAW,CAACsC,KAAK,CAAC,SAAS,CAAAvC,QAAA,CACtD5F,SAAS,CAAG,QAAQ,CAAG,KAAK,CACvB,CAAC,CACRA,SAAS,eACRf,IAAA,CAAC1B,MAAM,EAACqE,IAAI,CAAC,QAAQ,CAACiE,OAAO,CAAC,UAAU,CAACsC,KAAK,CAAC,WAAW,CAACC,OAAO,CAAE/C,YAAa,CAAAO,QAAA,CAAC,QAElF,CAAQ,CACT,EACI,CAAC,CACJ,CAAC,CACF,CAAC,cAER3G,IAAA,CAACpB,cAAc,EAACqJ,SAAS,CAAEzJ,KAAM,CAAAmI,QAAA,cAC/BzG,KAAA,CAACzB,KAAK,EAAAkI,QAAA,eACJ3G,IAAA,CAACnB,SAAS,EAAA8H,QAAA,cACRzG,KAAA,CAACpB,QAAQ,EAAA6H,QAAA,eACP3G,IAAA,CAACrB,SAAS,EAAAgI,QAAA,cAAC3G,IAAA,MAAA2G,QAAA,CAAG,MAAI,CAAG,CAAC,CAAW,CAAC,cAClC3G,IAAA,CAACrB,SAAS,EAAAgI,QAAA,cAAC3G,IAAA,MAAA2G,QAAA,CAAG,aAAW,CAAG,CAAC,CAAW,CAAC,cACzC3G,IAAA,CAACrB,SAAS,EAAAgI,QAAA,cAAC3G,IAAA,MAAA2G,QAAA,CAAG,OAAK,CAAG,CAAC,CAAW,CAAC,cACnC3G,IAAA,CAACrB,SAAS,EAAAgI,QAAA,cAAC3G,IAAA,MAAA2G,QAAA,CAAG,YAAU,CAAG,CAAC,CAAW,CAAC,cACxC3G,IAAA,CAACrB,SAAS,EAAAgI,QAAA,cAAC3G,IAAA,MAAA2G,QAAA,CAAG,eAAa,CAAG,CAAC,CAAW,CAAC,cAC3C3G,IAAA,CAACrB,SAAS,EAAAgI,QAAA,cAAC3G,IAAA,MAAA2G,QAAA,CAAG,SAAO,CAAG,CAAC,CAAW,CAAC,EAC7B,CAAC,CACF,CAAC,cACZ3G,IAAA,CAACtB,SAAS,EAAAiI,QAAA,CACPhG,KAAK,CAAC6E,GAAG,CAACQ,IAAI,OAAAoD,WAAA,oBACblJ,KAAA,CAACpB,QAAQ,EAAA6H,QAAA,eACP3G,IAAA,CAACrB,SAAS,EAAAgI,QAAA,CAAEX,IAAI,CAAC5F,IAAI,CAAY,CAAC,cAClCJ,IAAA,CAACrB,SAAS,EAAAgI,QAAA,CAAEX,IAAI,CAAC3F,WAAW,CAAY,CAAC,cACzCL,IAAA,CAACrB,SAAS,EAAAgI,QAAA,EAAAyC,WAAA,CACPpD,IAAI,CAAC1F,KAAK,UAAA8I,WAAA,iBAAVA,WAAA,CAAYC,cAAc,CAAC,OAAO,CAAE,CAAEvB,KAAK,CAAE,UAAU,CAAEwB,QAAQ,CAAE,KAAM,CAAC,CAAC,CACnE,CAAC,cACZtJ,IAAA,CAACrB,SAAS,EAAAgI,QAAA,CAEN,CAAC,IAAM,CACL,KAAM,CAAAtD,QAAQ,CAAGtB,aAAa,CAACiE,IAAI,CAACX,EAAE,CAAC,EAAI,EAAE,CAC7C,MAAO,CAAAhC,QAAQ,CAACmC,GAAG,CAACC,KAAK,OAAA8D,iBAAA,QAAAA,iBAAA,CAAI9H,UAAU,CAACqH,IAAI,CAACC,GAAG,EAAIA,GAAG,CAAC1D,EAAE,GAAKI,KAAK,CAAC,UAAA8D,iBAAA,iBAAxCA,iBAAA,CAA0CnJ,IAAI,GAAC,CAACqC,MAAM,CAAC+G,OAAO,CAAC,CAACR,IAAI,CAAC,IAAI,CAAC,CACzG,CAAC,EAAE,CAAC,CAEG,CAAC,cACZhJ,IAAA,CAACrB,SAAS,EAAAgI,QAAA,CAEN,CAAC,IAAM,CACL,KAAM,CAAA7D,QAAQ,CAAGjB,gBAAgB,CAACmE,IAAI,CAACX,EAAE,CAAC,EAAI,EAAE,CAChD,MAAO,CAAAvC,QAAQ,CAAC0C,GAAG,CAACK,KAAK,OAAA4D,mBAAA,QAAAA,mBAAA,CAAI9H,aAAa,CAACmH,IAAI,CAACxC,GAAG,EAAIA,GAAG,CAACjB,EAAE,GAAKQ,KAAK,CAAC,UAAA4D,mBAAA,iBAA3CA,mBAAA,CAA6CrJ,IAAI,GAAC,CAACqC,MAAM,CAAC+G,OAAO,CAAC,CAACR,IAAI,CAAC,IAAI,CAAC,CAC5G,CAAC,EAAE,CAAC,CAEG,CAAC,cACZ9I,KAAA,CAACvB,SAAS,EAAAgI,QAAA,eACR3G,IAAA,CAACjB,UAAU,EAACmK,KAAK,CAAC,SAAS,CAACC,OAAO,CAAEA,CAAA,GAAMpD,UAAU,CAACC,IAAI,CAAE,CAAAW,QAAA,cAAC3G,IAAA,CAACJ,QAAQ,GAAE,CAAC,CAAY,CAAC,cACtFI,IAAA,CAACjB,UAAU,EAACmK,KAAK,CAAC,OAAO,CAACC,OAAO,CAAEA,CAAA,GAAM7H,WAAW,CAAC0E,IAAI,CAACX,EAAE,CAAE,CAAAsB,QAAA,cAAC3G,IAAA,CAACH,UAAU,GAAE,CAAC,CAAY,CAAC,EACjF,CAAC,GAzBCmG,IAAI,CAACX,EA0BV,CAAC,EACZ,CAAC,CACO,CAAC,EACP,CAAC,CACM,CAAC,cACjBnF,KAAA,CAAClB,MAAM,EAAC0K,IAAI,CAAE,CAAC,CAACrI,QAAS,CAACsI,OAAO,CAAEA,CAAA,GAAMrI,WAAW,CAAC,IAAI,CAAE,CAAAqF,QAAA,eACzD3G,IAAA,CAACf,WAAW,EAAA0H,QAAA,CAAC,kBAAgB,CAAa,CAAC,cAC3C3G,IAAA,CAACd,aAAa,EAAAyH,QAAA,cACZ3G,IAAA,CAACb,iBAAiB,EAAAwH,QAAA,CAAC,+EAEnB,CAAmB,CAAC,CACP,CAAC,cAChBzG,KAAA,CAACd,aAAa,EAAAuH,QAAA,eACZ3G,IAAA,CAAC1B,MAAM,EAAC6K,OAAO,CAAEA,CAAA,GAAM7H,WAAW,CAAC,IAAI,CAAE,CAAAqF,QAAA,CAAC,QAAM,CAAQ,CAAC,cACzD3G,IAAA,CAAC1B,MAAM,EAAC6K,OAAO,CAAEjD,YAAa,CAACgD,KAAK,CAAC,OAAO,CAAAvC,QAAA,CAAC,QAAM,CAAQ,CAAC,EAC/C,CAAC,EACV,CAAC,EACN,CAAC,CAEV,CAEA,cAAe,CAAAjG,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}